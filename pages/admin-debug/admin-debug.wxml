<!-- 管理员调试页面 -->
<view class="container">
  <view class="debug-header">
    <text class="debug-title">🛠️ 开发者权限设置</text>
    <text class="debug-subtitle">获取您的OpenID并配置管理员权限</text>
  </view>

  <!-- 调试信息 -->
  <view class="info-card">
    <view class="card-title">📋 用户信息</view>
    <view class="debug-info">
      <text class="debug-text">{{debugInfo || '加载中...'}}</text>
    </view>
  </view>

  <!-- 管理员状态 -->
  <view class="status-card">
    <view class="card-title">👑 管理员状态</view>
    <view class="status-row">
      <text class="status-label">当前状态:</text>
      <text class="status-value {{isAdmin ? 'admin' : 'normal'}}">
        {{isAdmin ? '✅ 管理员' : '❌ 普通用户'}}
      </text>
    </view>
    
    <view wx:if="{{userInfo}}" class="status-row">
      <text class="status-label">账户状态:</text>
      <text class="status-value">{{userInfo.status || '未注册'}}</text>
    </view>
  </view>

  <!-- 操作按钮 -->
  <view class="action-section">
    <button wx:if="{{userInfo && userInfo.openid}}" class="action-btn primary" bindtap="copyCodeSnippet">
      📋 复制管理员代码片段
    </button>
    
    <button class="action-btn secondary" bindtap="copyOpenid">
      📎 仅复制OpenID
    </button>
    
    <button class="action-btn secondary" bindtap="refresh">
      🔄 刷新信息
    </button>
  </view>

  <!-- 数据修复工具 -->
  <view class="repair-section">
    <view class="repair-title">🔧 数据修复工具</view>
    <view class="repair-buttons">
      <button class="repair-btn fix" bindtap="fixExampleRomaji">
        🎌 修复例句罗马音
      </button>
      
      <button class="repair-btn verify" bindtap="verifyRomajiFix">
        🔍 验证罗马音完整率
      </button>
    </view>
    <view class="repair-tip">
      <text>💡 如果学习界面的例句缺少罗马音注解，可使用此工具修复</text>
    </view>
  </view>

  <!-- 说明信息 -->
  <view class="help-section">
    <view class="help-title">📖 操作步骤</view>
    <view class="help-content">
      <text class="help-text">1. 确保您已在个人中心完成微信授权登录</text>
      <text class="help-text">2. 点击"复制管理员代码片段"获取您的OpenID</text>
      <text class="help-text">3. 将代码片段添加到指定的两个文件中</text>
      <text class="help-text">4. 重新编译小程序后即可获得管理员权限</text>
    </view>
  </view>

  <!-- 技术信息 -->
  <view class="tech-info">
    <text class="tech-text">云环境: cloud1-2g49srond2b01891</text>
    <text class="tech-text">版本: v1.0.0</text>
  </view>
</view>