<view class="container">
  <!-- é¡µé¢æ ‡é¢˜ -->
  <view class="page-header">
    <text class="page-title">å­¦ä¹ è®¾ç½®</text>
    <text class="page-desc">è‡ªå®šä¹‰ä½ çš„å­¦ä¹ è®¡åˆ’å’Œç›®æ ‡</text>
  </view>

  <!-- è¯æ±‡å­¦ä¹ è®¾ç½® -->
  <view class="settings-section">
    <view class="section-header">
      <view class="section-icon">ğŸ“š</view>
      <view class="section-info">
        <text class="section-title">è¯æ±‡å­¦ä¹ </text>
        <text class="section-desc">è®¾ç½®æ¯æ—¥è¯æ±‡å­¦ä¹ æ•°é‡å’Œæ¯”ä¾‹</text>
      </view>
    </view>

    <!-- è¯æ±‡æ•°é‡è®¾ç½® -->
    <view class="setting-item">
      <view class="setting-label">
        <text class="label-text">æ¯æ—¥è¯æ±‡æ•°é‡</text>
        <text class="label-value">{{vocabularySettings.totalCount}}ä¸ª</text>
      </view>
      <slider 
        class="setting-slider"
        min="5" 
        max="50" 
        step="5"
        value="{{vocabularySettings.totalCount}}"
        block-color="#667eea"
        activeColor="#667eea"
        backgroundColor="#f0f0f0"
        bindchange="onVocabularyCountChange"
      />
      <view class="slider-labels">
        <text>5</text>
        <text>50</text>
      </view>
    </view>

    <!-- æ–°å­¦æ¯”ä¾‹è®¾ç½® -->
    <view class="setting-item">
      <view class="setting-label">
        <text class="label-text">æ–°å­¦è¯æ±‡æ¯”ä¾‹</text>
        <text class="label-value">{{vocabularySettings.newWordPercent}}%</text>
      </view>
      <slider 
        class="setting-slider"
        min="20" 
        max="80" 
        step="10"
        value="{{vocabularySettings.newWordPercent}}"
        block-color="#667eea"
        activeColor="#667eea"
        backgroundColor="#f0f0f0"
        bindchange="onNewWordPercentChange"
      />
      <view class="slider-labels">
        <text>20%</text>
        <text>80%</text>
      </view>
    </view>

    <!-- è¯æ±‡åˆ†é…é¢„è§ˆ -->
    <view class="breakdown-preview">
      <view class="breakdown-item new">
        <text class="breakdown-number">{{Math.floor(vocabularySettings.totalCount * vocabularySettings.newWordPercent / 100)}}</text>
        <text class="breakdown-label">æ–°å­¦</text>
      </view>
      <view class="breakdown-divider">+</view>
      <view class="breakdown-item review">
        <text class="breakdown-number">{{vocabularySettings.totalCount - Math.floor(vocabularySettings.totalCount * vocabularySettings.newWordPercent / 100)}}</text>
        <text class="breakdown-label">å¤ä¹ </text>
      </view>
    </view>
  </view>

  <!-- è¯­æ³•ç»“æ„å­¦ä¹ è®¾ç½® -->
  <view class="settings-section">
    <view class="section-header">
      <view class="section-icon">ğŸ”—</view>
      <view class="section-info">
        <text class="section-title">è¯­æ³•ç»“æ„</text>
        <text class="section-desc">è®¾ç½®æ¯æ—¥è¯­æ³•ç»“æ„å­¦ä¹ æ•°é‡</text>
      </view>
    </view>

    <!-- ç»“æ„æ•°é‡è®¾ç½® -->
    <view class="setting-item">
      <view class="setting-label">
        <text class="label-text">æ¯æ—¥ç»“æ„æ•°é‡</text>
        <text class="label-value">{{structureSettings.totalCount}}ä¸ª</text>
      </view>
      <slider 
        class="setting-slider"
        min="3" 
        max="15" 
        step="1"
        value="{{structureSettings.totalCount}}"
        block-color="#9c27b0"
        activeColor="#9c27b0"
        backgroundColor="#f0f0f0"
        bindchange="onStructureCountChange"
      />
      <view class="slider-labels">
        <text>3</text>
        <text>15</text>
      </view>
    </view>

    <!-- æ–°å­¦ç»“æ„æ¯”ä¾‹ -->
    <view class="setting-item">
      <view class="setting-label">
        <text class="label-text">æ–°å­¦ç»“æ„æ¯”ä¾‹</text>
        <text class="label-value">{{structureSettings.newStructurePercent}}%</text>
      </view>
      <slider 
        class="setting-slider"
        min="40" 
        max="80" 
        step="10"
        value="{{structureSettings.newStructurePercent}}"
        block-color="#9c27b0"
        activeColor="#9c27b0"
        backgroundColor="#f0f0f0"
        bindchange="onNewStructurePercentChange"
      />
      <view class="slider-labels">
        <text>40%</text>
        <text>80%</text>
      </view>
    </view>
  </view>

  <!-- å­¦ä¹ ç»Ÿè®¡ -->
  <view class="stats-section">
    <view class="section-header">
      <view class="section-icon">ğŸ“Š</view>
      <view class="section-info">
        <text class="section-title">å­¦ä¹ åº“ç»Ÿè®¡</text>
        <text class="section-desc">å½“å‰å­¦ä¹ èµ„æºæ¦‚è§ˆ</text>
      </view>
    </view>

    <view class="stats-grid">
      <view class="stat-item">
        <text class="stat-number">{{stats.totalVocabulary}}</text>
        <text class="stat-label">æ€»è¯æ±‡</text>
        <text class="stat-detail">å·²æŒæ¡{{stats.masteredVocabulary}}</text>
      </view>
      <view class="stat-divider"></view>
      <view class="stat-item">
        <text class="stat-number">{{stats.totalStructures}}</text>
        <text class="stat-label">æ€»ç»“æ„</text>
        <text class="stat-detail">å·²æŒæ¡{{stats.masteredStructures}}</text>
      </view>
    </view>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="action-buttons">
    <button class="action-btn secondary" bindtap="resetToDefault">
      æ¢å¤é»˜è®¤
    </button>
    <button class="action-btn primary" bindtap="saveSettings">
      ä¿å­˜è®¾ç½®
    </button>
  </view>
</view>